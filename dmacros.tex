\newcommand{\sketch}{S}

\usepackage[normalem]{ulem}

% PACKAGES %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Some recommended packages.
\usepackage{booktabs}   %% For formal tables:
                        %% http://ctan.org/pkg/booktabs
%\usepackage{subcaption} %% For complex figures with subfigures/subcaptions
                        %% http://ctan.org/pkg/subcaption


% \usepackage{courier}            % standard fixed width font
%\usepackage[scaled]{helvet} % see www.ctan.org/get/macros/latex/required/psnfss/psnfss2e.pdf
%\usepackage[procnames]{listings}          % format code
\usepackage[shortlabels]{enumitem}      % adjust spacing in enums
\usepackage{algorithm,algorithmicx}
\usepackage{graphicx}
\usepackage{subcaption}
\usepackage{comment}
\usepackage{amsmath}
\usepackage[hyphens]{url}
\usepackage[breaklinks]{hyperref}
\usepackage{bbm, dsfont}
\usepackage{mathrsfs}
\usepackage{xcolor}
\usepackage{esvect}
\usepackage{xspace}
\usepackage{array, multirow} % multirow in table
% \usepackage{rotating, makecell} % cell rotation
%\usepackage[noend]{algpseudocode}
\usepackage{balance}
\usepackage{qtree}
%\usepackage{amsfonts}
\let\Bbbk\relax
\usepackage{amssymb}
\usepackage{multirow}
\usepackage{fancyvrb}
\usepackage{pgfplots}
% \pgfplotsset{compat=1.16}
\usepackage{stmaryrd}
\usepackage{newfloat}
\usepackage{syntax}
\usepackage{tikz}
\usepackage[capitalize]{cleveref}
%\usepackage[firstpage]{draftwatermark}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%5%%%%%%%%%%

\def\sectionautorefname{Section}
\def\subsectionautorefname{Section}
\newcommand{\definitionautorefname}{Definition}
% COMMANDS %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\newcommand{\toolname}{{\sc Austenite}\xspace}
\newcommand{\depsynth}{\textsc{DepSynth}\xspace}
\newcommand{\jitsynth}{\textsc{JitSynth}\xspace}
\newcommand{\shardstore}{ShardStore\xspace}
%\newcommand{\depsynth}{{\sc DepSynth}\xspace}
\newcommand{\kv}{storage system\xspace}
\newcommand{\kvs}{storage systems\xspace}
\newcommand{\dstate}{disk state\xspace}
\newcommand{\states}{disk states\xspace}
\newcommand{\dwrite}{disk write\xspace}
\newcommand{\writes}{disk writes\xspace}
% \newcommand{\pctslowdown}{$N$}

\newcommand{\mathword}[1]{\ensuremath{#1}\xspace}
\newcommand{\mathid}[1]{\mathword{\mathit{#1}}}
\newcommand{\putreq}{\texttt{PUT}\xspace}
\newcommand{\get}{\texttt{GET}\xspace}
\newcommand{\delete}{\texttt{DELETE}\xspace}
\newcommand{\flush}{\texttt{FLUSH}\xspace}
\newcommand{\bflush}{\texttt{INDEXFLUSH}\xspace}
\newcommand{\clean}{\texttt{CLEAN}\xspace}
\newcommand{\onbool}{\textit{on}\xspace}
\newcommand{\syncbool}{\textit{sync}\xspace}
\newcommand{\crash}{\mathcal{C}\xspace}
\newcommand{\valid}{\mathcal{V}\xspace}
\newcommand{\true}{\textbf{true}\xspace}
\newcommand{\false}{\textbf{false}\xspace}
\newcommand{\tvar}[1]{\makebox[.9em][r]{$#1$}}
\newcommand{\local}{\mathid{op}}
%\newcommand{\concat}{\oplus}
\newcommand{\deprule}[3]{#1\rightsquigarrow_{#3}#2}
\newcommand{\depedge}[2]{#1\rightsquigarrow #2}
\DeclareMathOperator{\extractop}{extract}
\newcommand{\extract}[3]{\extractop(#1, #2, #3)}

\newcommand{\BV}[1]{\ensuremath{\mathid{BV}(#1)}}
\newcommand{\tfun}{\ensuremath{\mathcal{T}}\xspace}
\newcommand{\prog}[1]{\ensuremath{P(#1)}}
\newcommand{\denotes}[1]{\ensuremath{\llbracket #1 \rrbracket}}
\newcommand{\host}{\mathword{\mathcal{H}}}
\newcommand{\size}[1]{\ensuremath{|#1|}}

% Thesis specific
\newcommand{\tord}{\mathword{\mathcal{T}_{ord}}}
%%%%%%%

\newcommand{\cc}[1]{\texttt{#1}}

%\newcommand{\todo}[1]{\textbf{\color{red} [[#1]]}}

\newcommand{\tighten}{\looseness=-1}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%% JITSYNTH %%%%%%%%%%%%%%%%%%%
\newcommand{\jitk}{{\sc Jitk}\xspace}
% \newcommand{\pctslowdown}{$N$}

\newcommand{\imm}{\mathid{imm}}
\newcommand{\sign}{\mathid{sign}}
\newcommand{\pc}{\mathid{pc}}
\newcommand{\regs}{\mathid{reg}}
\newcommand{\mem}{\mathid{mem}}
\newcommand{\rd}{\mathid{rd}}
\newcommand{\rs}{\mathid{rs}}
\newcommand{\dst}{\mathid{dst}}
\newcommand{\src}{\mathid{src}}
\newcommand{\off}{\mathid{off}}
\newcommand{\pid}{\mathid{pid}}
%\newcommand{\tvar}[1]{\makebox[.9em][r]{$#1$}}
%\newcommand{\local}{\mathid{op}}
\newcommand{\concat}{\oplus}
\newcommand{\reg}[1]{R[#1]}
%\DeclareMathOperator{\extractop}{extract}
%\newcommand{\extract}[3]{\extractop(#1, #2, #3)}
\DeclareMathOperator{\sexti}{sext32}
\DeclareMathOperator{\sextll}{sext64}
\newcommand{\arm}{\mathcal{A}}

\newcommand{\Reg}{\mathid{Reg}}
\newcommand{\Mem}{\mathid{Mem}}
\newcommand{\PC}{\mathid{PC}}

\newcommand{\CMS}{\textproc{CMS}\xspace}
\newcommand{\Naive}{\textproc{Naive}\xspace}
\newcommand{\RW}{\textproc{RW}\xspace}
\newcommand{\LCS}{\textproc{PLD}\xspace}

\newcommand{\Read}[1]{\mathid{Read}(#1)}
\newcommand{\Write}[1]{\mathid{Write}(#1)}
\newcommand{\Get}[2]{#1(#2)}
%\newcommand{\Map}[1][]{\mathword{\mathcal{M}_{#1}}}

% terminology  %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\minicompiler}{mini compiler\xspace}
\newcommand{\Minicompiler}{Mini compiler\xspace}
\newcommand{\MiniCompiler}{Mini Compiler\xspace}
\newcommand{\minicompilers}{mini compilers\xspace}
\newcommand{\Minicompilers}{Mini compilers\xspace}
\newcommand{\MiniCompilers}{Mini Compilers\xspace}

%%%%%%%%%%%%%% END JITSYNTH %%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newcommand{\graphsuff}{\textproc{Sufficient}\xspace}
\newcommand{\acyclic}{\textproc{Acyclic}\xspace}
\newcommand{\graphsearch}{\textproc{GraphSearch}\xspace}
\newcommand{\getwrites}{\textproc{Writes}\xspace}
\newcommand{\getnecpaths}{\textproc{NecessaryPaths}\xspace}
\newcommand{\getdepgraph}{\textproc{GetDependencyGraph}\xspace}
\newcommand{\prune}{\textproc{Prune}\xspace}
\newcommand{\toplevel}{\textproc{DepSynth}\xspace}
\newcommand{\sccsearch}{\textproc{SccGraphSearch}\xspace}
\newcommand{\rulessearch}{\textproc{RulesSearch}\xspace}
\newcommand{\resolvecons}{\textproc{ResolveConflicts}\xspace}
\newcommand{\multisearch}{\textproc{MultiTestSearch}\xspace}
\newcommand{\genrules}{\textproc{GenerateRules}\xspace}

\newcommand{\Map}[1][]{\mathword{\mathcal{M}_{#1}}}

\newcommand{\interpret}[1]{\emph{Interpret}(#1)}
\newcommand{\evaluate}[2]{\emph{Evaluate}_{#2}(#1)}
\newcommand{\consistent}[1]{\emph{Consistent}(#1)}
\newcommand{\run}[3]{\ensuremath{\emph{Run}\left(#1, #2, #3\right)}}
\renewcommand{\valid}[3]{\emph{Valid}_#3(#1, #2)}
\renewcommand{\vec}[1]{\boldsymbol{#1}}
\newcommand{\UNSAT}{\ensuremath{\text{UNSAT}}\xspace}
\newcommand{\UNKNOWN}{\ensuremath{\text{UNKNOWN}}\xspace}
\newcommand{\sys}{\ensuremath{\mathcal{O}}\xspace}

\newcommand{\impl}{\ensuremath{\mathcal{O}}\xspace}
\newcommand{\test}{\ensuremath{T}\xspace}
\newcommand{\tests}{\ensuremath{\mathcal{T}}\xspace}
\newcommand{\consist}{\ensuremath{\emph{Consistent}}\xspace}
\newcommand{\ruleset}{\ensuremath{R}\xspace}
\renewcommand{\wr}{\ensuremath{W}\xspace}
\newcommand{\ord}{\ensuremath{\emph{order}}\xspace}
\newcommand{\gr}{\ensuremath{G}\xspace}
\newcommand{\depsynthalg}{\textsc{DepSynth}\xspace}
\newcommand{\rulesfortest}{\textsc{RulesForTest}\xspace}
\newcommand{\phaseone}{\textsc{Phase1}\xspace}
\newcommand{\phasetwo}{\textsc{Phase2}\xspace}
\newcommand{\crashconsistentalg}{\textsc{CrashConsistent}\xspace}
\newcommand{\rulesforgraph}{\textsc{RulesForGraph}\xspace}

\newcommand{\xsmall}{\fontsize{9pt}{11pt}\selectfont}

% terminology  %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


% LANGUAGE DEF %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\lstset{
  columns=flexible,
  keepspaces,
  xleftmargin=1em,
  basicstyle=\ttfamily,
  keywordstyle=\color{green!60!black}\bfseries,
  keywordstyle=[2]\color{green!60!black},
  keywordstyle=[3]\color{blue!60!black}\bfseries,
  stringstyle=\color{red},
  commentstyle=\color{orange!70!black},
  % procnamestyle=\color{blue},
  basicstyle=\small\ttfamily,
  lineskip=-1em,
  aboveskip=20pt,
  belowskip=15pt,
}

\lstdefinelanguage{rosette}{
  morekeywords=[1]{verify,solve,forall,and,or,assert,s-exp,rosette,set!,begin,define,define-match,define-values,define-syntax,define-syntax-rule,syntax-rules,let,let*,if,when,unless,match-define,lambda,provide,cond,case,else,struct,letrec,for/list,true,false,null,local,require,rename-in,??,define-symbolic,define-symbolic*,not,=>,ite,\#lang,\#:transparent,\#:mutable,equal?,match,list},
  morekeywords=[2]{bv,bvult,bvuge,bvsub,~>,bitvector,integer?},
  morekeywords=[3]{serval:split-pc,serval:bug-on},
  alsoletter={\#,:,?,-,=>,*},
  morecomment=[l]{;},
}

\lstdefinelanguage{c}{
  morekeywords=[1]{struct,switch,case,sizeof,return,break},
  morekeywords=[2]{...},
}

\lstdefinelanguage{sketch}{
  morekeywords=[1]{struct,switch,case,sizeof,return,break},
}

\lstdefinelanguage{py}[]{Python}{
  morekeywords=[1]{with},
  morekeywords=[2]{self, True, False},
  sensitive,
  procnamekeys={def,class},
  procnamestyle=\color{blue},
}

\renewcommand{\algorithmiccomment}[1]{\hfill\textcolor{orange!70!black}{$\triangleright$ #1}}

\renewcommand{\algorithmiccomment}[1]{\hfill{\color{gray}$\triangleright$ \it #1}}
\renewcommand{\alglinenumber}[1]{{\color{gray}\fontsize{6pt}{1em}\selectfont #1}}
% \algrenewcommand\Call[2]{\textproc{#1}(#2)}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
